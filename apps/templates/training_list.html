{% extends 'base.html' %}
{% block content %}
    {% load static %}

    {# –†–µ–∫–æ–º–µ–Ω–¥—É—é –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞—Ç–∏ CSS-—Ñ–∞–π–ª –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–∞ training_list.css #}
    <link rel="stylesheet" href="{% static 'styles/training_list.css' %}">

        <div class="training-page">
            <div class="training-filters">
            <h3>üóìÔ∏è –§—ñ–ª—å—Ç—Ä–∏ —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</h3>
            <form method="get" class="filter-form">

                <div class="filter-group">
                    <label for="id_day_of_week">–î–µ–Ω—å —Ç–∏–∂–Ω—è</label>
                    {{ form.day_of_week }}
                </div>

                <div class="filter-group">
                    <label for="id_training_type">–¢–∏–ø —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è</label>
                    {{ form.training_type }}
                </div>

                <div class="filter-group">
                    <label for="id_hall">–ó–∞–ª</label>
                    {{ form.hall }}
                </div>

                <div class="filter-group">
                    <label for="id_sort_by">–°–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞</label>
                    {{ form.sort_by }}
                </div>

                <div class="filter-group">
                    <label for="id_trainer">–¢—Ä–µ–Ω–µ—Ä</label>
                    {{ form.trainer }}
                </div>

                <button type="submit" class="apply-filters-button">–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏</button>
            </form>
        </div>

        <div class="training-list">
            {% for schedule in schedules %}
                <div class="training-card">
                    <div class="training-header">
                        {# –í–∏–≤–æ–¥–∏–º–æ –Ω–∞–∑–≤—É —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –π–æ–≥–æ –¥–µ—Ç–∞–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É #}
                        <h4 class="training-title">
                            {#<a href="{% url 'schedule_detail' schedule.id %}">#}
                                {{ schedule.training_type.name|default:"–í—ñ–ª—å–Ω–µ –∑–∞–Ω—è—Ç—Ç—è" }}
                            {# </a>#}
                        </h4>
                        {# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –º–µ—Ç–æ–¥ –º–æ–¥–µ–ª—ñ –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–Ω—è —Ç–∏–∂–Ω—è #}
                        <span class="training-day">{{ schedule.get_day_of_week_display }}</span>
                    </div>

                    <div class="training-details">
                        <p><strong>üïí –ß–∞—Å:</strong> {{ schedule.start_time|time:"H:i" }} - {{ schedule.end_time|time:"H:i" }}</p>

                        <p><strong>üèãÔ∏è –¢—Ä–µ–Ω–µ—Ä:</strong> {{ schedule.trainer.full_name|default:"–ù–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ" }}</p>

                        <p><strong>üìç –ó–∞–ª:</strong> {{ schedule.hall.name }}</p>
                    </div>

                    <hr>
                    <div class="training-footer">
                        <span class="training-status training-status-{{ schedule.status|lower }}">
                            –°—Ç–∞—Ç—É—Å: {{ schedule.get_status_display }}
                        </span>
                        <span class="training-capacity">
                            –ó–∞–ø–∏—Å–∞–Ω–æ: {{ schedule.capacity }} / {{ schedule.max_capacity }}
                        </span>
                        {# –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É, –ø—Ä–∏–ø—É—Å–∫–∞—é—á–∏, —â–æ URL –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è 'schedule_detail' #}
                        <a href="/training/{{ schedule.id }}/">–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ</a>
                    </div>
                </div>
            {% empty %}
                <div class="no-trainings">
                    <p>–ù–∞ –∂–∞–ª—å —Ç—Ä–µ–Ω—É–≤–∞–Ω—å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.</p>
                </div>
            {% endfor %}
        </div>
    </div>

{% endblock %}